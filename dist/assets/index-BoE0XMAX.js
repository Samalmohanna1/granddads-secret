import{p as o}from"./vendor-nD4EcAQo.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))n(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const r of s.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&n(r)}).observe(document,{childList:!0,subtree:!0});function i(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerPolicy&&(s.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?s.credentials="include":t.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(t){if(t.ep)return;t.ep=!0;const s=i(t);fetch(t.href,s)}})();const l={dialogueBoxX:50,dialogueBoxY:50,textPadding:20};class h extends o.Scene{constructor(){super("MenuScene")}create(){const e=this.add.text(400,300,"Start Game",{fontSize:"32px",fill:"#ffffff",backgroundColor:"#000000",padding:{x:20,y:10}}).setOrigin(.5).setInteractive({useHandCursor:!0});e.on("pointerover",()=>{e.setStyle({fill:"pink"})}),e.on("pointerout",()=>{e.setStyle({fill:"#ffffff"})}),e.on("pointerdown",()=>{this.scene.start("KitchenScene")})}}class c{constructor(e){this.scene=e,this.queue=[],this.isDisplaying=!1,this.currentDialogueBox=null,this.currentDialogueText=null}addToQueue(e){this.queue.push(e),this.isDisplaying||this.displayNext()}displayNext(){if(this.currentDialogueBox&&(this.currentDialogueBox.destroy(),this.currentDialogueText.destroy()),this.queue.length>0){this.isDisplaying=!0;const e=this.queue.shift(),{dialogueBoxX:i,dialogueBoxY:n,textPadding:t}=this.scene.game.globals;this.currentDialogueText=this.scene.add.text(i+t,n+t,e,{fontSize:"32px",fill:"#e1e1e1",wordWrap:{width:650}}).setBackgroundColor("#000000").setOrigin(0),this.currentDialogueText.setLineSpacing(12),this.currentDialogueText.setPadding(60),this.scene.time.delayedCall(2800,()=>{this.currentDialogueBox.destroy(),this.currentDialogueText.destroy(),this.currentDialogueBox=null,this.currentDialogueText=null,this.displayNext()})}else this.isDisplaying=!1}}class d extends o.Scene{constructor(){super("KitchenScene")}preload(){this.load.image("kitchen","assets/scenes/kitchen.jpg"),this.load.image("gift","assets/items/gift.jpg")}create(){this.dialogueManager=new c(this),this.add.image(0,0,"kitchen").setOrigin(0),this.add.image(this.cameras.main.width-400,this.cameras.main.height-300,"gift").setInteractive().on("pointerdown",()=>{this.scene.start("KitchenTableScene")}),this.dialogueManager.addToQueue("It's a gift from grandpa! Let's see what's inside.")}}class u extends o.Scene{constructor(){super("KitchenTableScene"),this.collectedItems=0,this.totalItems=4,this.inventory=[]}preload(){this.load.image("kitchen-table","assets/scenes/kitchen-table.jpg"),this.load.image("hook","assets/items/hook.jpg"),this.load.image("letter","assets/items/letter-one.jpg"),this.load.image("photo","assets/items/photo-fishing.jpg"),this.load.image("map","assets/items/map-icon.jpg")}create(){this.dialogueManager=new c(this),this.add.image(0,0,"kitchen-table").setOrigin(0),[{key:"hook",x:this.cameras.main.width-200,y:this.cameras.main.height-600,description:"A rusty old fishing hook. It looks well-used."},{key:"letter",x:this.cameras.main.width-600,y:this.cameras.main.height-600,description:"A letter from Grandpa. It mentions a secret fishing spot."},{key:"photo",x:this.cameras.main.width-300,y:this.cameras.main.height-300,description:"A photo of Grandpa fishing. He looks so happy!"},{key:"map",x:this.cameras.main.width-600,y:this.cameras.main.height-300,description:"An old map with a location marked. Could this be the secret spot?"}].forEach(i=>this.createCollectibleItem(i)),this.dialogueManager.addToQueue("It's a gift from grandpa! Let's see what's inside.")}createCollectibleItem(e){const i=this.add.image(e.x,e.y,e.key).setInteractive();i.on("pointerdown",()=>{this.collectItem(i,e)})}collectItem(e,i){this.dialogueManager.addToQueue(i.description),this.inventory.push(i.key),e.destroy(),this.collectedItems++,this.collectedItems===this.totalItems&&this.dialogueManager.addToQueue("Looks like I've got everything, better check the map."),this.updateInventoryDisplay()}updateInventoryDisplay(){console.log("Current inventory:",this.inventory)}}const g={type:o.AUTO,width:1900,height:900,scene:[h,d,u]},p=new o.Game(g);p.globals=l;
